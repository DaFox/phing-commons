<?xml version="1.0" encoding="UTF-8"?>

<!-- ============================================================  -->
<!-- test                                                          --> 
<!--                                                               --> 
<!-- @author Jan Thoennessen <jan.thoennessen@googlemail.com>      --> 
<!-- ============================================================  -->
<project name="test">



    <!-- ============================================  -->
    <!-- help.test                                     --> 
    <!-- ============================================  -->	
	<target name="help.test">
		<echo message="test.phplint (PHP Validation)"   />
		<echo message="test.phpunit (PHP Unit Testing)" />
		<echo message="test.jslint  (JS Validation)"    />
	</target>

	
	
    <!-- ============================================  -->
    <!-- test.phplint                                  --> 
    <!-- ============================================  -->  
    <target name="test.phplint" depends="report.index">
		<echo msg="run test.phplint" />
	
        <mkdir dir="${project.path.reports}/phplint" />
        
        <phplint haltonfailure="true" tofile="${project.path.reports}/phplint/phplint.txt" cachefile="./phplint.cache">
            <fileset dir=".">
                <patternset refid="fileset.pattern.test.phplint" />
            </fileset>
        </phplint>
    
        <echo msg="end test.phplint" />
    </target>
    
    
    
    <!-- ============================================  -->
    <!-- test.phpunit                                  --> 
    <!-- ============================================  -->  
    <target name="test.phpunit" depends="report.index,test.phplint">
        <echo msg="run test.phpunit" />
        
        <mkdir dir="${project.path.reports}/phpunit" />
        <mkdir dir="${project.path.reports}/phpunit-coverage-report" />

        <echo msg="end test.phpunit" />
    </target>    
    
    
 
    <!-- ============================================  -->
    <!-- test.jslint                                   --> 
    <!-- ============================================  -->  
    <target name="test.jslint">
        <echo msg="run test.jslint" />
        
        <jsllint cachefile="./jslint.cache">
            <fileset dir="${project.path.js}">
                <patternset refid="fileset.pattern.test.jslint" />
            </fileset>
        </jsllint>

        <echo msg="end test.jslint" />
    </target>  
    
    
        
</project>